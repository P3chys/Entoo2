# GitHub Actions Workflow Fixes

## Issue
Multiple workflows were failing during the "Install Dependencies" step with error:
```
Script @php artisan package:discover --ansi handling the post-autoload-dump event returned with error code 1
```

## Root Cause
The workflows were copying `.env.example` to `.env` and running `php artisan key:generate` immediately, which triggers Laravel's package discovery. However, the `.env.example` file contains:
- `SESSION_DRIVER=database` - requires database tables that don't exist yet
- `CACHE_STORE=database` - requires database tables that don't exist yet
- `QUEUE_CONNECTION=redis` - may cause issues if Redis isn't configured properly

When Laravel tries to boot these services during package discovery, it fails because the required infrastructure isn't set up yet.

## Solution
Added `sed` commands to replace problematic environment variables BEFORE running `php artisan key:generate`:
- `SESSION_DRIVER=database` → `SESSION_DRIVER=array`
- `CACHE_STORE=database` → `CACHE_STORE=array`
- `QUEUE_CONNECTION=redis` → `QUEUE_CONNECTION=sync`

## Files Modified
1. `.github/workflows/laravel-tests.yml` - Added sed commands + bootstrap/cache setup
2. `.github/workflows/performance-monitoring.yml` - Added sed commands + bootstrap/cache setup + composer dump-autoload
3. `.github/workflows/ci-cd.yml` - Added QUEUE_CONNECTION fix to all 3 instances
4. `.github/workflows/code-quality.yml` - Added QUEUE_CONNECTION fix

## Expected Impact
All GitHub Actions workflows should now pass the dependency installation step successfully.
